<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	<mapper namespace="mapper.BillMapper">
		<select id="selectOsLoginDtoByOsId"  parameterType="int" resultType="OsLoginDto">
			SELECT ol.loginIp,ol.loginInTime,ol.loginOutTime,ta.tariffName,
				ta.tariff,ta.timeLong,ta.timeTariff,ta.tariffType,
				TIMESTAMPDIFF(SECOND,ol.loginInTime,ol.loginOutTime) as timeLogin 
				FROM osLogin as ol 
				INNER JOIN os 
				ON ol.osId = os.osId 
				INNER JOIN tariff as ta 
				ON os.tariffId = ta.tariffId 
				WHERE ol.osId = #{osId};
		</select>
		
	</mapper>